# 第七讲习题

$$
秦颖欣 \ \ \ \ \ \ \ \ \ \ \ 20191103371
$$

## 习题8-1

正确率(Precision)表示搜索返回的相关文档所占的比例,计算公式为:
正确率 = 搜索返回的相关文档数 / 搜索返回的总文档数 = 8 / (8 + 10) = 0.4444

召回率(Recall)表示搜索返回的相关文档占所有相关文档的比例,计算公式为:
召回率 = 搜索返回的相关文档数 / 相关文档总数 = 8 / 20 = 0.4

## 习题8-8

a. 按MAP的定义，这里 |Q| =1，m=4。在查询结果中遇到每个相关文档对前面的所有文
档计算一个Precision，MAP将这些Precision值求平均。
$$
MAP(系统1)=(1/4)*(1+2/3+3/9+4/10)=0.6 \\
MAP(系统2)=(1/4)*(1/2+2/5+3/6+4/7)=0.49\\
系统1的MAP值大。
$$
b. 相关的查询结果排名越靠前，则MAP越大。
c. 按R-precision 的定义，假设总共有|Rel|篇相关文档，在查询结果中取前|Rel|个文档，计算其precision。
$$
R-precision(系统1)=2/4=1/2R-precision(系统1)=1/4
$$
系统1的R-precision值大。与MAP给出系统打分排序的结果一致。

## 习题8-10

a. 计算kappa统计量:
P(A)就是实际观察到的一致意见的概率，总共12篇文档，其中2篇两人一致选Yes，2篇两人一致选No。因此，P(A)=(2+2)/12=1/3。

P(E)是随机情况下的一致意见的概率。假设每个人对每个文档的Yes(或No）打分的概率py(或pn）是独立同分布的(i. i. d.)，则 P(E)= p,*py + p%*pn。其中，p,y是$2*12$次打分中为Yes的比例，p,=12/24=1/2; pn是$2*12$次打分中为No的比例，pn=12/24=1/2。代入P(E)，得: P(E)=(1/2)*2+(1/2)2=1/2。

Kappa=(P(A)-P(E))/(1-P(E))=(1/3-1/2)/(1-1/2)=-1/3<0.67，这是一个负数，说明实际的一致性结果还不如随机产生的一致性结果，因此可以判定两人给出的相关性打分不一致。

b. 文档集中共有12篇文档，其中2文档相关（{3,4})，其它10篇都不相关。查询结果为{4,5,6,7,8}，其中只有1篇文档相关({4})。
该查询的
Precision, P=1/5;
Recall, R=1/2;
$Fx=2P*R/(P+R)=0.28。$

c．文档集中共有12篇文档，其中10文档相关，其它2篇都不相关({1,2})。查询结果为{4,5,6,7,8}，全部都相关。
该查询的
Precision, P=1;
Recall, R=5/12;
F=2P*R/(P+R)=0.67。